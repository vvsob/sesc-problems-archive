Мне неизвестно решение задачи, отличное от предпосчёта. По факту, задача на то, чтобы найти последовательность в OEIS: https://oeis.org/A001349.